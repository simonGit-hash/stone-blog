---
title: 键盘事件冲突优化
description: 键盘的空格键是将待输入的内容填入输入框，但是表单的提交也绑定了空格键，如何解决这种冲突呢?
date: 2025-03-05
image: /frontend/vue.png
minRead: 6
author:
  name: 石头
  avatar:
    src: /avatar.svg
    alt: 石头
---

## 1、问题演示：

要求点击空格键发送输入框内容，使用的方法是

```javascript
@keyup.space.native="submit"
```

但是对于输入法，空格键就是将拼写的文字输入到输入框内，那么导致，确定输入文字时，就触发了发送函数
![在这里插入图片描述](https://i-blog.csdnimg.cn/blog_migrate/5c0abe49570da7e462fe67fabb84718c.png)

## 2、官方解释：

1.  **keydown**：当用户按键盘上的键时，该事件将发送到元素。如果按住该键，则每次操作系统**_重复_**该键时都会发送该事件。它可以附加到任何元素，但**_事件仅发送到具有焦点的元素_**。可聚焦元素可能因浏览器而异，但**_表单元素始终可以获得焦点加粗样式_**，因此是此事件类型的合理候选者 ‎
2.  **keyup**：‎ 当用户释放键盘上的键时，该事件将发送到元素。它可以附加到任何元素，但事件仅发送到具有焦点的元素。可聚焦元素可能因浏览器而异，但表单元素始终可以获得焦点，因此是此事件类型的合理候选者。‎
3.  **keypress**：当浏览器注册键盘输入时，该事件将发送到元素。这与 keydown 事件类似，不同的是修饰符和非打印键（如 Shift, Esc, and delete ） 触发了 keydown 事件，而不是 keypress 事件。这两个事件之间的其他差异可能会根据平台和浏览器而出现。‎ 事件处理程序可以附加到任何元素，但事件仅发送到具有焦点的元素。可聚焦元素可能因浏览器而异，但窗体控件始终可以获得焦点，因此是此事件类型的合理候选项。**‎Note: ‎**由于该事件未包含在任何官方规范中，因此在使用它时遇到的实际行为可能因浏览器，浏览器版本和平台而异。‎

## 3、查找原因：

实际验证发现，当按下 space 按键时触发了输入法的键盘事件，输入法拼写的内容输入到输入框内，然后输入法关闭，然后按键松开触发了浏览器的 keyup 事件，所以导致确定内容时触发了发送事件

## 4、解决办法：

```javascript
@keypress.space.native="submit"
```

当处于输入法拼写内容时，点击 space 按键，正常输入内容，且不触发 keypress 事件，再按 space 则触发浏览器键盘事件，执行 submit，这样就不会冲突了
